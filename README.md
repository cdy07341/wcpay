# wcpay
wechat pay
本项目是基于微信官方sdk所做的优化
优化点如下：
1】将官方WxPayData.php文件里的类库优化为一个文件对应一个类库，便于自动加载
2】一些bug修复

注意：
文件结构含义见doc目录下面的README

# 大纲 #

- 复习
- 第一天补充
- 变量
- Java数据类型
- 基本类型转换
- 表达式和算术、赋值及关系运算符
- 逻辑和位运算符
- 位运算符

----------

## 复习 ##
1. JDK和JRE的区别
	1. JDK: Java Development Kit Java 开发工具包 ->支持运行和编译
	2. JRE: Java Runtime Enviroment   Java运行环境。->只支持运行
	3. JDK中包含JRE
2. Java中的环境变量怎么配置
	1. 最少配置，只配置一个Path
	2. 完全配置：
		1. JAVA_HOME：配置JDK的安装目录。要配置到Java\JDKXXX(XXX版本号)
		2. PATH：%JAVA_HOME%\bin； 陪可执行文件的路径
		3. CLASSPATH：配置编译后生成的.class文件的路径。.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;
3. HelloWorld的书写
<pre>
/*
 *需要掌握的是：
 * 1.类的写法
 * 2.main方法的写法
 * 3.输出语句的使用
 */
public class Demo{
	public static  void main(String[] args){
		System.out.println("HelloWorld!");
	}	
}
</pre>

----------

## 第一天补充 ##
1. Java的跨平台性
2. Java解释型语言
3. 一个源文件中可以有几个class.有什么限制吗

### Java的跨平台性 ###
20世纪90年代，硬件领域出现了单片式计算机系统，这种价格低廉的系统一出现就立即引起了自动控制领域人员的注意，因为使用它可以大幅度提升消费类电子产品（如电视机顶盒、面包烤箱、移动电话等）的智能化程度。Sun公司为了抢占市场先机，在1991年成立了一个称为Green的项目小组，帕特里克、詹姆斯·高斯林、麦克·舍林丹和其他几个工程师一起组成的工作小组在加利福尼亚州门洛帕克市沙丘路的一个小工作室里面研究开发新技术，专攻计算机在家电产品上的嵌入式应用。

由于C++所具有的优势，该项目组的研究人员首先考虑采用C++来编写程序。但对于硬件资源极其匮乏的单片式系统来说，C++程序过于复杂和庞大。另外由于消费电子产品所采用的嵌入式处理器芯片的种类繁杂，如何让编写的程序跨平台运行也是个难题。为了解决困难，他们首先着眼于语言的开发，假设了一种结构简单、符合嵌入式应用需要的硬件平台体系结构并为其制定了相应的规范，其中就定义了这种硬件平台的二进制机器码指令系统（即后来成为“字节码”的指令系统），以待语言开发成功后，能有半导体芯片生产商开发和生产这种硬件平台。对于新语言的设计，Sun公司研发人员并没有开发一种全新的语言，而是根据嵌入式软件的要求，对C++进行了改造，去除了留在C++的一些不太实用及影响安全的成分，并结合嵌入式系统的实时性要求，开发了一种称为Oak的面向对象语言。

1999年4月27日，HotSpot虚拟机发布。HotSpot虚拟机发布时是作为JDK 1.2的附加程序提供的，后来它成为了JDK 1.3及之后所有版本的Sun JDK的默认虚拟机.

虚拟机所起到的作用是将软件和硬件分离.做软件设计的不需要懂硬件.只需要针对虚拟机写好软件该实现的功能就可以.Java为了实现这一点针对不同的平台.提供不同的虚拟机.如果使用Window平台那么就是引用Window下的虚拟机.如果Mac就使用Mac的虚拟机.

所以Java的跨平台性是指可以跨操作系统.其根本原因是Java虚拟机(Java Virtual Machine,简称JVM)不跨平台.

所谓的JVM是一种用于计算设备的规范，它是一个虚构出来的计算机，是通过在实际的计算机上仿真模拟各种计算机功能来实现的。比如电脑中有cpu有内存等在虚拟机中都会模拟出来.

### Java解释型语言 ###
这里要介绍两个概念分别是

1. 编译型语言
2. 解释型语言

编译型语言：程序在执行之前需要一个专门的编译过程，把程序编译成为机器语言的文件，运行时不需要重新翻译，直接使用编译的结果就行了。程序执行效率高，依赖编译器，跨平台性差些。如C、C++、Delphi等.

解释型语言：程序不需要编译，程序在运行时才翻译成机器语言，每执行一次都要翻译一次。因此效率比较低。比如Basic语言，专门有一个解释器能够直接执行Basic程序,每个语句都是执行的时候才翻译。(在运行程序的时候才翻译，专门有一个解释器去进行翻译，每个语句都是执行的时候才翻译。效率比较低，依赖解释器，跨平台性好.)

解释型语言是相对于编译型语言存在的，源代码不是直接翻译成机器语言，而是先翻译成中间代码，再由解释器对中间代码进行解释运行。比如Python/JavaScript / Perl /Shell等都是解释型语言。

而相对的,解释性语言编写的程序不进行预先编译，以文本方式存储程序代码。在发布程序时，看起来省了道编译工序。但是，在运行程序的时候，解释性语言必须先解释再运行。

即时编译器（JIT compiler，just-in-time compiler）

过去，大多数用任何语言写的程序在每个电脑平台上都必须重编译，甚至有时需要重写。Java最大的优点之一就是你只需要写和编译一次程序(因为这一点Java也被称为一次编译到处运行)。在任何平台上，Java都会将编译好的字节码解释成能被特定的处理器所理解的指令(即一次编译，到处运行)。尽管如此，Java虚拟机一次只能处理一条字节码指令。在特定的系统平台上使用Java即时编译器,能把字节码编译成特定系统的代码（虽然这个程序最初已经在这个平台上被编译过)。一旦代码被JIT编译器（重）编译后，它在电脑上通常就会运行地更快。
　　
即时编译器（JIT compiler）随虚拟机一起供给的，并可选使用。它把字节码编译成可立即执行的指定平台的可执行代码。Sun微系统建议，选择JIT编译器选项通常会使程序运行地更快，尤其是当某个可执行的方法被重复使用时。

因为即时编译所以在某些方面Java的运行速度甚至可以比C语言还要快.语言的发展趋势可以用兼容和跨平台来形容。兼容可以理解为包含特性.比如JDK1.8推出是为了兼容C++这么语言的特性。

### 一个源文件中可以有几个class.有什么限制吗 ###
Java的源文件使用.java作为后缀名.经过编译会生成字节码文件以.class结尾.Java的源文件.就是指一个以.java结尾的文件.通常这个文件中可以有n个class.但是其中有且只能有一个class是被pubilc修饰的.并且这个被public修饰的类的名字要和文件的名字一致不然会提示.class　XXX　需要在自己的文件中（演示下）

----------

## 变量 ##
1. 进制
	1. 二进制
	2. 十进制
	3. 八进制
	4. 十六进制
	5. 进制的体现形式
	6. 进制间的转换
	7. 8421码(扩展)
	
2. 原码.反码.补码

3. 变量
	1. 什么是变量
	2. 变量的声明格式
	3. 为什么要有变量
	4. 变量的作用域
	5. 变量的初始化(可以初始化几个变量)
	
4. 常量
	1. 字面常量
		1. 字符串常量
		2. 字符常量
		3. 整数常量
		4. 小数常量
		5. 布尔常量
		6. 空常量
	2. 自定义常量

### 进制 ###
#### 进制的由来 ####
进制也就是进位制，是人们规定的一种进位方法。 对于任何一种进制---X进制，就表示某一位置上的数运算时是逢X进一位。 十进制是逢十进一，十六进制是逢十六进一，二进制就是逢二进一，以此类推，x进制就是逢x进位.

清末民初，戏园（俗称茶园）是人们日常生活中重要的娱乐场所。每天戏园里要迎来很多观众。可是那时候还没有门票这种东西，戏园就安排“案目”（就是现在所说的服务员）在戏院门口招徕看客，领满五位入座，司事（记账先生）便在大水牌（类似黑板）上写出一个“正”字，并标明某案目的名字。座席前设有八仙桌，看客可边品茶边看戏。稍后由案目负责计数、收费。到散场结账时准确无误。

结绳记事是文字发明前，人们所使用的一种记事方法。即在一条绳子上打结，用以记事。上古时期的中国及秘鲁印第安人皆有此习惯，即到近代，一些没有文字的民族，仍然采用结绳记事来记载信息

再比如我们用双手来数数.从1-10.如果满了可以用10为1组.再次从1-10.代表10-100.那这些都是进制的体现.例如一周有七天,七进制,一年有十二个月,十二进制

十进制的由来:十进制的由来是因为人类有十个手指 

二进制的由来:其实二进制来源与中国,请看史料记载18世纪德国数理哲学大师莱布尼兹从他的传教士朋友鲍威特寄给他的拉丁文译本《易经》中，读到了八卦的组成结构，惊奇地发现其基本素数（0）（1），即《易经》的阴爻yao- -和__阳爻，其进位制就是二进制，并认为这是世界上数学进制中最先进的。20世纪被称作第三次科技革命的重要标志之一的计算机的发明与应用，其运算模式正是二进制。它不但证明了莱布尼兹的原理是正确的，同时也证明了《易经》数理学是很了不起的。

八进制的由来 任何数据在计算机中都是以二进制的形式存在的。二进制早期由电信号开关演变而来。一个整数在内存中一样也是二进制的，但是使用一大串的1或者0组成的数值进行使用很麻烦。所以就想把一大串缩短点，将二进制中的三位用一位表示。这三位可以取到的最大值就是7.超过7就进位了，这就是八进制。 

十六进制的由来但是对于过长的二进制变成八进制还是较长，所以出现的用4个二进制位表示一位的情况，四个二进制位最大是15，这就是十六进制。

不同进制表现同一个数据的形式特点进制越大，表现形式越短


#### 进制的体现形式 ####
1. 二进制的数据表现形式
	* 由0,1组成。以0b(b可以大写也可以小写)开头(JDK1.7版本可以表示二进制了)
2. 八进制的数据表现形式
	* 由0,1,…7组成。以0开头
3. 十进制的数据表现形式
	* 由0,1,…9组成。整数默认是十进制的 
4. 十六进制的数据表现形式
	* 由0,1,…9,a,b,c,d,e,f(大小写均可)。以0x开头 
5. 课堂练习
	1. 详见练习部分

0x10 010 10

#### 进制间的转换 ####
* 任意进制到十进制的转换原理
	* 系数：就是每一位上的数据。   有一个二进制 形式为 0b100 即 1 0 0
	* 基数：X进制，基数就是X。      0b开始是二进制那么基数就是2
	* 权：在右边，从0开始编号，对应位上的编号即为该位的权。      2 1 0
	* 结果：把系数*基数的权次幂相加即可。  0*2^0 + 0*2^1 + 1 * 2^2

* 十进制到任意进制的转换原理
	* 除积倒取余 

* 课堂练习
	* 详见课堂练习
	

* 8421码及特点(有兴趣的去研究下.这里不多说进制的转换上面的原理懂了就可以.8421.二进制的十进制显示)
	* 8421码是中国大陆的叫法，8421码是BCD代码中最常用的一种。在这种编码方式中每一位二值代码的1都是代表一个固定数值，把每一位的1代表的十进制数加起来，得到的结果就是它所代表的十进制数码。 

### 反码补码原码 ###
* 有符号数据表示法的几种方式
	* 原码
		* 就是二进制定点表示法，即最高位为符号位，“0”表示正，“1”表示负，其余位表示数值的大小。
		* 通过一个字节,也就是8个二进制位表示+7和-7
		* 0(符号位)	0000111
		* 1(符号位)	0000111
	* 反码
		* 正数的反码与其原码相同；负数的反码是对其原码逐位取反，但符号位除外。
	* 补码
		* 正数的补码与其原码相同；负数的补码是在其反码的末位加1。 

* 课堂练习
	* 详见课堂练习

### 变量,常量 ###
* 什么是变量
	* 在程序执行的过程中，在某个范围内其值可以发生改变的量
* 变量的定义格式
	* 数据类型 变量名 = 变量值;
* 为什么要定义变量
	* 用来不断的存放同一类型的常量，并可以重复使用 
* 什么是常量
	* 在程序执行的过程中其值不可以发生改变 
* Java中常量的分类
	* 字面值常量
	* 自定义常量(面向对象部分讲) 
* 字面值常量的分类
	* 字符串常量	用双引号括起来的内容
	* 整数常量		所有整数
	* 小数常量		所有小数
	* 字符常量		用单引号括起来的内容,里面只能放单个数字,单个字母或单个符号
	* 布尔常量		较为特殊，只有true和false
	* 空常量		    null(数组部分讲解)
* 课堂练习
	* 用输出语句输出各种常量。null不演示

----------

## 数据类型 ##
1. 数据类型
	1. 源生数据类型
		1. 整数型
			1. byte
			2. short
			3. int
			4. long
		2. 浮点型
			1. float
			2. double
		3. 字符型
			1. char
		4. 布尔类型
			1. boolean
	2. 引用数据类型
		1. 面向对象章节讲解.
	3. 数据类型间的转换
		1. 源生转源生
			1. 显式转换
			2. 隐式转换
		2. 引用转源生
			1. 面向对象章节讲解


### 为什么有数据类型 ###
* Java语言是强类型语言，对于每一种数据都定义了明确的具体数据类型，在内存中分配了不同大小的内存空间

* Java中数据类型的分类
	* 基本数据类型
	* 引用数据类型 
		* 面向对象部分讲解 
* 基本数据类型分类(4类8种) 
	* 整数型
		* byte 占一个字节  -128到127
		* short 占两个字  -2^15~2^15-1
		* int 占四个字节 -2^31~2^31-1
		* long 占八个字节 -2^63~2^63-1
	* 浮点型
		* float 占四个字节 -3.403E38~3.403E38  单精度
		* double 占八个字节-1.798E308~1.798E308 双精度
	* 字符型
		* char 占两个字节 0~65535
	* 布尔型
		* boolean   
			* boolean理论上是占八分之一个字节,因为一个开关就可以决定是true和false了,但是java中boolean类型没有明确指定他的大小      

* 案例演示
	* 定义不同基本数据类型的变量，并输出
	* 赋值时候注意float类型,long类型

	* 作用域问题
		* 同一个区域不能使用相同的变量名 
	* 初始化值问题
		* 局部变量在使用之前必须赋值 
	* 一条语句可以定义几个变量
		* int a,b,c...; 

### 数据类型转换之隐式转换(掌握) ###
* 案例演示
	* a:int + int
	* b:byte + int 
* Java中的默认转换规则
	* 取值范围小的数据类型与取值范围大的数据类型进行运算,会先将小的数据类型提升为大的,再运算 


### 数据类型转换之强制转换(掌握) ###
* 强制转换问题
	* int a = 10;
	* byte b = 20; 
	* b = a + b;
* 强制转换的格式
	* b = (byte)(a + b); 
* 强制转换的注意事项
	* 如果超出了被赋值的数据类型的取值范围得到的结果会与你期望的结果不同 

### 变量相加和常量相加的区别(掌握) ###
* 案例演示
	* 面试题:看下面的程序是否有问题，如果有问题，请指出并说明理由。
	* byte b1 = 3;
	* byte b2 = 4;
	* byte b3 = b1 + b2;
		* 从两方面去回答这个题
		* b1和b2是两个变量,变量里面存储的值都是变化的,所以在程序运行中JVM是无法判断里面具体的值
		* byte类型的变量在进行运算的时候,会自动类型提升为int类型 
	* byte b4 = 3 + 4;
		* 3和4都是常量,java有常量优化机制,就是在编译的的时候直接把3和4的结果赋值给b4了 
		
### 混合运算时最终类型由谁决定 ###
* 进行混合运算的时候,byte,short,char不会相互转换,都会自动类型提升为int类型,其他类型进行混合运算的是小的数据类型提升为大的
	* byte,short,char -- int -- long -- float -- double
* 扩展IEEE754介绍.

### 有趣的字符运算(掌握) ###
* 案例演示
	* System.out.println('a');
	* System.out.println('a'+1);
	
	* 通过看结果知道'a'的值是多少,由此引出ASCII码表
* ASCII码表的概述
	* 记住三个值：
		* '0'  48
		* 'A'  65
		* 'a'  97

### char的特殊所在(掌握) ###
* char c = 97;	0到65535
* Java语言中的字符char可以存储一个中文汉字吗?为什么呢?
	* 可以。因为Java语言采用的是Unicode编码。Unicode编码中的每个字符占用两个字节。中文也是占的两个字节
	* 所以，Java中的字符可以存储一个中文汉字

----------


## 运算符 ##
1. 运算符 
	1. 算术运算符
	2. 赋值运算符
	3. 比较(关系或条件)运算符
	4. 逻辑运算符
	5. 位运算符
	6. 三目(元)运算符 

2. 运算符的优先级和结合性
	1. 优先级
		1.小括号
		2.递增
		3.算数
		4.位运算
		5.关系
		6.逻辑
	2. 结合性
		Java中的运算符普遍都是左结合.只有3点是右结合分别是
			++ -- (递增运算)
			? : 三目运算符
			所有带=的赋值运算符 
		
3. 递增运算符
	1. 前缀
	2. 后缀

3. +=运算符讲解
 
4. 运算符的注意事项


### 算术运算符的基本用法(掌握) ###
* 什么是运算符
	* 就是对常量和变量进行操作的符号。
* 运算符的分类
	* 算术运算符，赋值运算符，比较(关系或条件)运算符，逻辑运算符，位运算符，三目(元)运算符 
* 算数运算符有哪些
	* +,-,*,/,%,++,-- 
* 注意事项：
	* a:+号在java中有三种作用,代表正号,做加法运算,字符串的连接符
	* b:整数相除只能得到整数。如果想得到小数，必须把数据变化为浮点数类型
	* c:/获取的是除法操作的商，%获取的是除法操作的余数
	* %运算符
		* 当左边的绝对值小于右边绝对值时,结果是左边  3%4
		* 当左边的绝对值等于右边或是右边的倍数时,结果是0   3%3
		* 当左边的绝对值大于右边绝对值时,结果是余数
		* %运算符结果的符号只和左边有关系,与右边无关
		* 任何一个正整数%2结果不是0就是1可以用来当作切换条件 

### 算术运算符++和--的用法(掌握) ###
* ++,--运算符的作用
	* 自加（++）自减（--）运算
	* ++:自加。对原有的数据进行+1
	* --:自减。对原有的数据进行-1
* 案例演示
	* a:单独使用：
		* 放在操作数的前面和后面效果一样。(这种用法是我们比较常见的)
	* b:参与运算使用：
		* 放在操作数的前面，先自增或者自减，然后再参与运算。
		* 放在操作数的后面，先参与运算，再自增或者自减。
		* 
* 课堂练习 
	* 请分别计算出a,b,c的值?
			int a = 10;
			int b = 10;
			int c = 10;
		
			a = b++;		
			c = --a;			
			b = ++a;		
			a = c--;			
	
	* 		int x = 4;
			int y = (x++)+(++x)+(x*10);
* 面试题
	* byte b = 10;
	* b++;
	* b = b + 1;
	* 问哪句会报错,为什么 

### 赋值运算符的基本用法(掌握) ###
* 赋值运算符有哪些
	* 基本的赋值运算符：=
		* 把=右边的数据赋值给左边。
		
	* 扩展的赋值运算符：+=,-=,*=,/=,%=
		* += 把左边和右边做加法，然后赋值给左边。
	
###02.23_Java语言基础(赋值运算符的面试题)(掌握)
* 案例演示
	* 面试题:看下面的程序是否有问题，如果有问题，请指出并说明理由。
	* short s=1;s = s+1;
	* short s=1;s+=1;

### 关系运算符的基本用法及其注意事项(掌握) ###
* 关系运算符有哪些(比较运算符,条件运算符)
	* ==,!=,>,>=,<,<= 
* 注意事项：
	* 无论你的操作是简单还是复杂，结果是boolean类型。
	
	* "=="不能写成"="。


### 逻辑运算符的基本用法(掌握) ###
* 逻辑运算符有哪些
	* &,|,^,!
	* &&,|| 
* 案例演示
* 逻辑运算符的基本用法
	
* 注意事项：
	* 逻辑运算符一般用于连接boolean类型的表达式或者值。
	* 表达式：就是用运算符把常量或者变量连接起来的符合java语法的式子。
		* 算术表达式：a + b
		* 比较表达式：a == b(条件表达式)
* 结论：
* &逻辑与:有false则false。
* |逻辑或:有true则true。
* ^逻辑异或:相同为false，不同为true。
* !逻辑非:非false则true，非true则false。
	* 特点：偶数个不改变本身。

### 逻辑运算符&&和&的区别(掌握) ###
* 案例演示
	* &&和&的区别?
		* a:最终结果一样。
		* b:&&具有短路效果。左边是false，右边不执行。
		* 	&是无论左边是false还是true,右边都会执行
* 开发中常用谁?
	* &&,||,!

### 位运算符的基本用法(了解) ###
* 位运算符有哪些
	* &,|,^,~ ,>>,>>>,<<
* 案例演示
	* 位运算符的基本用法1
	
	* &,|,^,~ 的用法
	* &:有0则0
	* |:有1则1
	* ^:相同则0，不同则1
	* ~:按位取反

### 位异或运算符的特点及面试题(掌握) ###
* 案例演示
	* 位异或运算符的特点

	* ^的特点：一个数据对另一个数据位异或两次，该数本身不变。
	
* 面试题：
	* 请自己实现两个整数变量的交换
	* 注意：以后讲课的过程中，我没有明确指定数据的类型，默认int类型。

### 位运算符的基本用法及面试题(了解) ###
* 案例演示 >>,>>>,<<的用法:
	*  <<:左移	左边最高位丢弃，右边补齐0
	*  >>:右移	最高位是0，左边补齐0;最高为是1，左边补齐1
	*  >>>:无符号右移 无论最高位是0还是1，左边补齐0
	*  最有效率的算出2 * 8的结果

### 三元运算符的基本用法(掌握) ###
* 三元运算符的格式
* 		(关系表达式) ? 表达式1 : 表达式2;
* 三元运算符的执行流程 
* 案例演示
	* 获取两个数中的最大值

### 三元运算符的练习(掌握) ###
* 案例演示
	* 比较两个整数是否相同
* 案例演示
	* 获取三个整数中的最大值


## 附录 ##
1. ASCII码表介绍
2. IEEE754介绍

## 课堂练习 ##
1. 进制的演示
	* 输出不同进制表现100的数据。
	* 0b100
	* 0100
	* 100
	* 0x100
2. 练习二,八,十六转十
 
3. 练习十转二,八,十六

4. 已知原码求补码
	* 0b10110100 
5. 已知补码求原码
	* 0b11101110 

## 家庭作业 ##

## 复习 ##

## 常见错误 ##
1. G:\Code\Day2>javac Demo2.java
Demo2.java:8: 错误: 类A是公共的, 应在名为 A.java 的文件中声明
public class A{       ^
1 个错误
解释：一个源文件中可以有n个class但是只有1个是被public修饰的。

2. G:\Code\Day2>java Demo2
错误: 在类 Demo2 中找不到 main 方法, 请将 main 方法定义为:
   public static void main(String[] args)
否则 JavaFX 应用程序类必须扩展javafx.application.Application
解释：javac是编译过程。编译只检查语法错误。只要语法没有问题编译不会报错。而Java是执行，它验证的往往更多是逻辑。当前代码中没有提供程序的入口或提供的main方法书写有问题。导致上面问题的产生。



## 参考连接 ##
1. [http://blog.csdn.net/u012552052/article/details/43227795](http://blog.csdn.net/u012552052/article/details/43227795 "通识基础_正负数二进制的表示")

